# 1. 介绍

​		Redis一句话概括就是高性能key-value内存数据库。具有以下特点

1. 性能极高
2. 丰富的数据类型
3. 丰富的特性，支持publish/subscribe,通知，key过期等特性

## 1.1 



# 2. 数据类型

​		Redis 数据类型分为：字符串类型、散列类型、列表类型、集合类型、有序集合类型,

​		另外支持HyperLogLog GEO BIT

## 2.1  String

## 2.2 

## 2.3

## 2.4

## 2.5

# 4. 特性

## 1.1 键过期

过期策略

## 3.2 发布/订阅

​		目前广泛使用的通信模型，它采用事件作为基本的通信机制，提供大规模系统所要求的松散耦合的交互模式：订阅者（如客户端）以事件订阅的方式表达出它有兴趣接收的一个事件或一类事件；发布者(如服务器)可将订阅者感兴趣的事件随时通知相关订阅者。

### 3.2.1 

### 3.2.4 缺陷

​		虽然redis实现了发布订阅（publish/subscribe）的功能，但是在通常的情况下是不推荐使用的，如果想使用消息队列这种功能，最好还是使用专业的各种MQ中间件，例如rabbitMQ，rockedMQ,activitedMQ等。

​		概要说一下就是，PUBLISH和SUBSCRIBE的缺陷在于客户端必须一直在线才能接收到消息，断线可能会导致客户端丢失消息，除此之外，旧版的redis可能会由于订阅者消费不够快而变的不稳定导致崩溃，甚至被管理员杀掉。

​		第一个原因是和redis系统的稳定性有关。对于旧版的redis来说，如果一个客户端订阅了某个或者某些频道，但是它读取消息的速度不够快，那么不断的积压的消息就会使得redis输出缓冲区的体积越来越大，这可能会导致redis的速度变慢，甚至直接崩溃。也可能会导致redis被操作系统强制杀死，甚至导致操作系统本身不可用。新版的redis不会出现这种问题，因为它会自动断开不符合client-output-buffer-limit pubsub配置选项要求的订阅客户端

​		第二个原因是和数据传输的可靠性有关。任何网络系统在执行操作时都可能会遇到断网的情况。而断线产生的连接错误通常会使得网络连接两端中的一端进行重新连接。如果客户端在执行订阅操作的过程中断线，那么客户端将会丢失在断线期间的消息，这在很多业务场景下是不可忍受的。

## 3.3 过期监听



# 3. 持久化

RDB快照：fork子进程，通过保存某一时间点内存快照实现，使用BGSAVE命令进行RDB的生成

AOF方式：fork子进程，将每一个写操作进行记录，并在服务器重启后进行重放。

一般推荐使用AOF模式，并将其fsync策略设为每秒。同时定期做RDB的备份

## 3.1 RDB

## 3.2 AOF

